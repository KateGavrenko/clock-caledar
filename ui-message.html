<!DOCTYPE HTML>
<html>

<body>

  <template id="tmpl">
    <style>
      .content {
        min-height: 20px;
        padding: 19px;
        margin-bottom: 20px;
        background-color: #f5f5f5;
        border: 1px solid #e3e3e3;
        border-radius: 4px;
        box-shadow: inset 0 1px 1px rgba(0, 0, 0, .05);
      }

      :host {
        display: block;
      }

      :host(.info) .content {
        color: green;
      }

      :host(.warning) .content {
        color: red;
      }
    </style>
    <div class="content">
      <content></content>
    </div>
  </template>


<script>
! function() {
  var localDocument = document.currentScript.ownerDocument;
  var tmpl = localDocument.getElementById('tmpl');

  var ClockCalendar = Object.create(HTMLElement.prototype);

  ClockCalendar.createdCallback = function() {
    var root = this.createShadowRoot();
    root.appendChild(tmpl.content.cloneNode(true));
    var clockCalendar = document.querySelector('clock-caledar');
    var div = document.createElement('DIV');
    var body = document.querySelector('body');
    var showSeconds = true;
    var dateFormat = true;
    var mode = 'clock';
    var clock, calendar;

    body.oncontextmenu = function () {
      return false;
    };

    function createVariable(){
      var date = new Date();
      day = date.getDate();
      months = date.getMonth();
      years = date.getFullYear();
      seconds = date.getSeconds();
      minutes = date.getMinutes();
      hours = date.getHours();
      months = months + 1;
      return;
    }

    function addZero() {
      createVariable();

      if( seconds < 10 ){
        seconds = '0' + seconds;
      }
      if( minutes < 10 ){
        minutes = '0' + minutes;
      }
      if ( hours < 10 ){
        hours = '0' + hours;
      }
      if( day < 10 ){
        day = '0' + day;
      }
      if( months < 10 ){
        months = '0' + months;
      }
      if ( years < 10 ){
        years = '0' + years;
      }
    }

    function updateClock(){
      createVariable();
      addZero();
      if (!showSeconds) {
        clock = hours + ':'+ minutes;
      } else {
        clock = hours + ':'+ minutes  + ':'+ seconds;
      }

      clockCalendar.innerHTML = clock;
    }
    function updateCalendar () {
      createVariable();
      addZero();

      if (dateFormat) {
        calendar = months + '/'+ day + '/'+ years;
      } else {
        calendar = day + ':'+ months  + ':'+ years;
      }

      clockCalendar.innerHTML = calendar;
    }
      //
      // result.appendChild(div);

      function refresh() {
        if (mode == 'clock') {
          updateClock();
        } else if (mode == 'calendar') {
          updateCalendar();
        }
      }


      setInterval(refresh, 1000);

      body.addEventListener("contextmenu", function(){
        if (mode == 'clock') {
          mode = 'calendar'
          updateCalendar();
        } else {
          mode = 'clock';
          updateClock();
        }
      })


      body.addEventListener("click", function(){
        showSeconds = !showSeconds;
        dateFormat = !dateFormat;
        console.log('click');
      })
    };

      document.registerElement('clock-caledar', {
        prototype: ClockCalendar
      });
}();
</script>
</body>

</html>
